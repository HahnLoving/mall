{"ast":null,"code":"import _typeof from \"/Users/zhahn/Desktop/\\u672A\\u547D\\u540D\\u6587\\u4EF6\\u5939/lin-cms-vue/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport _toConsumableArray from \"/Users/zhahn/Desktop/\\u672A\\u547D\\u540D\\u6587\\u4EF6\\u5939/lin-cms-vue/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport Utils from '@/lin/util/util';\nimport adminConfig from './admin';\nimport bookConfig from './book'; // 引入图书管理路由文件\n\nimport pluginsConfig from './plugin'; // eslint-disable-next-line import/no-mutable-exports\n\nvar homeRouter = [{\n  title: '林间有风',\n  type: 'view',\n  name: Symbol('about'),\n  route: '/about',\n  filePath: 'view/about/about.vue',\n  inNav: true,\n  icon: 'iconfont icon-iconset0103',\n  order: 1\n}, {\n  title: '日志管理',\n  type: 'view',\n  name: Symbol('log'),\n  route: '/log',\n  filePath: 'view/log/log.vue',\n  inNav: true,\n  icon: 'iconfont icon-rizhiguanli',\n  order: 2,\n  permission: ['查询所有日志']\n}, {\n  title: '个人中心',\n  type: 'view',\n  name: Symbol('center'),\n  route: '/center',\n  filePath: 'view/center/center.vue',\n  inNav: false,\n  icon: 'iconfont icon-rizhiguanli'\n}, {\n  title: '404',\n  type: 'view',\n  name: Symbol('404'),\n  route: '/404',\n  filePath: 'view/error-page/404.vue',\n  inNav: false,\n  icon: 'iconfont icon-rizhiguanli'\n}, bookConfig, adminConfig]; // 接入插件\n\nvar plugins = _toConsumableArray(pluginsConfig);\n\nfilterPlugin(homeRouter);\nhomeRouter = homeRouter.concat(plugins); // 处理顺序\n\nhomeRouter = Utils.sortByOrder(homeRouter);\ndeepReduceName(homeRouter);\nexport default homeRouter;\n/**\n * 筛除已经被添加的插件\n */\n\nfunction filterPlugin(data) {\n  if (plugins.length === 0) {\n    return;\n  }\n\n  if (Array.isArray(data)) {\n    data.forEach(function (item) {\n      filterPlugin(item);\n    });\n  } else {\n    var findResult = plugins.findIndex(function (item) {\n      return data === item;\n    });\n\n    if (findResult >= 0) {\n      plugins.splice(findResult, 1);\n    }\n\n    if (data.children) {\n      filterPlugin(data.children);\n    }\n  }\n}\n/**\n * 使用 Symbol 处理 name 字段, 保证唯一性\n */\n\n\nfunction deepReduceName(target) {\n  if (Array.isArray(target)) {\n    target.forEach(function (item) {\n      if (_typeof(item) !== 'object') {\n        return;\n      }\n\n      deepReduceName(item);\n    });\n    return;\n  }\n\n  if (_typeof(target) === 'object') {\n    if (_typeof(target.name) !== 'symbol') {\n      target.name = target.name || Utils.getRandomStr();\n      target.name = Symbol(target.name);\n    }\n\n    if (Array.isArray(target.children)) {\n      target.children.forEach(function (item) {\n        if (_typeof(item) !== 'object') {\n          return;\n        }\n\n        deepReduceName(item);\n      });\n    }\n  }\n}","map":{"version":3,"sources":["/Users/zhahn/Desktop/未命名文件夹/lin-cms-vue/src/config/stage/index.js"],"names":["Utils","adminConfig","bookConfig","pluginsConfig","homeRouter","title","type","name","Symbol","route","filePath","inNav","icon","order","permission","plugins","filterPlugin","concat","sortByOrder","deepReduceName","data","length","Array","isArray","forEach","item","findResult","findIndex","splice","children","target","getRandomStr"],"mappings":"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","sourcesContent":["import Utils from '@/lin/util/util'\nimport adminConfig from './admin'\nimport bookConfig from './book' // 引入图书管理路由文件\nimport pluginsConfig from './plugin'\n\n// eslint-disable-next-line import/no-mutable-exports\nlet homeRouter = [\n  {\n    title: '林间有风',\n    type: 'view',\n    name: Symbol('about'),\n    route: '/about',\n    filePath: 'view/about/about.vue',\n    inNav: true,\n    icon: 'iconfont icon-iconset0103',\n    order: 1,\n  },\n  {\n    title: '日志管理',\n    type: 'view',\n    name: Symbol('log'),\n    route: '/log',\n    filePath: 'view/log/log.vue',\n    inNav: true,\n    icon: 'iconfont icon-rizhiguanli',\n    order: 2,\n    permission: ['查询所有日志'],\n  },\n  {\n    title: '个人中心',\n    type: 'view',\n    name: Symbol('center'),\n    route: '/center',\n    filePath: 'view/center/center.vue',\n    inNav: false,\n    icon: 'iconfont icon-rizhiguanli',\n  },\n  {\n    title: '404',\n    type: 'view',\n    name: Symbol('404'),\n    route: '/404',\n    filePath: 'view/error-page/404.vue',\n    inNav: false,\n    icon: 'iconfont icon-rizhiguanli',\n  },\n  bookConfig,\n  adminConfig,\n]\n\n// 接入插件\nconst plugins = [...pluginsConfig]\nfilterPlugin(homeRouter)\nhomeRouter = homeRouter.concat(plugins)\n\n// 处理顺序\nhomeRouter = Utils.sortByOrder(homeRouter)\ndeepReduceName(homeRouter)\n\nexport default homeRouter\n\n/**\n * 筛除已经被添加的插件\n */\nfunction filterPlugin(data) {\n  if (plugins.length === 0) {\n    return\n  }\n  if (Array.isArray(data)) {\n    data.forEach(item => {\n      filterPlugin(item)\n    })\n  } else {\n    const findResult = plugins.findIndex(item => data === item)\n    if (findResult >= 0) {\n      plugins.splice(findResult, 1)\n    }\n    if (data.children) {\n      filterPlugin(data.children)\n    }\n  }\n}\n\n/**\n * 使用 Symbol 处理 name 字段, 保证唯一性\n */\nfunction deepReduceName(target) {\n  if (Array.isArray(target)) {\n    target.forEach(item => {\n      if (typeof item !== 'object') {\n        return\n      }\n      deepReduceName(item)\n    })\n    return\n  }\n  if (typeof target === 'object') {\n    if (typeof target.name !== 'symbol') {\n      target.name = target.name || Utils.getRandomStr()\n      target.name = Symbol(target.name)\n    }\n\n    if (Array.isArray(target.children)) {\n      target.children.forEach(item => {\n        if (typeof item !== 'object') {\n          return\n        }\n        deepReduceName(item)\n      })\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"/**\n * 定时自动登出功能, 启用后一段时间无用户操作, 则自动登出. 需在项目 config 中配置\n */\nimport store from '@/store';\nimport Config from '@/config';\nvar timer;\nexport default (function (router) {\n  if (timer) clearTimeout(timer);\n  if (!Config.openAutoJumpOut) return;\n\n  if ((router === null || router === void 0 ? void 0 : router.currentRoute.value.path) === '/' || (router === null || router === void 0 ? void 0 : router.currentRoute.value.path) === '/login') {\n    return;\n  }\n\n  timer = setTimeout(function () {\n    store.dispatch('loginOut');\n    var origin = window.location.origin;\n    window.location.href = origin;\n  }, Config.stagnateTime);\n});","map":{"version":3,"sources":["/Users/zhahn/Desktop/未命名文件夹/lin-cms-vue/src/lin/util/auto-jump.js"],"names":["store","Config","timer","router","clearTimeout","openAutoJumpOut","currentRoute","value","path","setTimeout","dispatch","origin","window","location","href","stagnateTime"],"mappings":"AAAA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAGA,IAAIC,KAAJ;AAEA,gBAAe,UAAAC,MAAM,EAAI;AACvB,MAAID,KAAJ,EAAWE,YAAY,CAACF,KAAD,CAAZ;AACX,MAAI,CAACD,MAAM,CAACI,eAAZ,EAA6B;;AAC7B,MAAI,CAAAF,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEG,YAAR,CAAqBC,KAArB,CAA2BC,IAA3B,MAAoC,GAApC,IAA2C,CAAAL,MAAM,SAAN,IAAAA,MAAM,WAAN,YAAAA,MAAM,CAAEG,YAAR,CAAqBC,KAArB,CAA2BC,IAA3B,MAAoC,QAAnF,EAA6F;AAC3F;AACD;;AAEDN,EAAAA,KAAK,GAAGO,UAAU,CAAC,YAAM;AACvBT,IAAAA,KAAK,CAACU,QAAN,CAAe,UAAf;AACA,QAAQC,MAAR,GAAmBC,MAAM,CAACC,QAA1B,CAAQF,MAAR;AACAC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBH,MAAvB;AACD,GAJiB,EAIfV,MAAM,CAACc,YAJQ,CAAlB;AAKD,CAZD","sourcesContent":["/**\n * 定时自动登出功能, 启用后一段时间无用户操作, 则自动登出. 需在项目 config 中配置\n */\nimport store from '@/store'\nimport Config from '@/config'\n\n\nlet timer\n\nexport default router => {\n  if (timer) clearTimeout(timer)\n  if (!Config.openAutoJumpOut) return\n  if (router?.currentRoute.value.path === '/' || router?.currentRoute.value.path === '/login') {\n    return\n  }\n\n  timer = setTimeout(() => {\n    store.dispatch('loginOut')\n    const { origin } = window.location\n    window.location.href = origin\n  }, Config.stagnateTime)\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/Users/zhahn/Documents/Hahn/\\u81EA\\u8003/mall/mall_cms/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n\nvar _types$SET_LOGGED_IN$;\n\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.flat.js\";\nimport \"core-js/modules/es.array.unscopables.flat.js\";\nimport \"core-js/modules/es.object.values.js\";\nimport * as types from './mutation-type';\nexport default (_types$SET_LOGGED_IN$ = {}, _defineProperty(_types$SET_LOGGED_IN$, types.SET_LOGGED_IN, function (state) {\n  state.loggedIn = true;\n}), _defineProperty(_types$SET_LOGGED_IN$, types.REMOVE_LOGGED_IN, function (state) {\n  state.loggedIn = false;\n  state.user = null;\n}), _defineProperty(_types$SET_LOGGED_IN$, types.SET_USER, function (state, payload) {\n  state.user = payload;\n}), _defineProperty(_types$SET_LOGGED_IN$, types.MARK_READ_MESSAGE, function (state, payload) {\n  state.alreadyReadMessages.push(payload);\n}), _defineProperty(_types$SET_LOGGED_IN$, types.MARK_UNREAD_MESSAGE, function (state, payload) {\n  // console.log('===:  ', payload)\n  state.unreadMessages.push(payload);\n}), _defineProperty(_types$SET_LOGGED_IN$, types.REMOVE_UNREAD_MESSAGE, function (state, payload) {\n  // payload => message.id\n  var unreadMessages = state.unreadMessages;\n  var index = unreadMessages.findIndex(function (el) {\n    return el.id === payload;\n  });\n  unreadMessages.splice(index, 1);\n}), _defineProperty(_types$SET_LOGGED_IN$, types.SET_USER_PERMISSIONS, function (state, permissions) {\n  state.permissions = permissions.map(function (permission) {\n    return Object.values(permission);\n  }).flat(2).map(function (p) {\n    return p.permission;\n  });\n}), _defineProperty(_types$SET_LOGGED_IN$, types.SET_REFRESH_OPTION, function (state, option) {\n  state.refreshOptions = option;\n}), _types$SET_LOGGED_IN$);","map":{"version":3,"sources":["/Users/zhahn/Documents/Hahn/自考/mall/mall_cms/src/store/mutation.js"],"names":["types","SET_LOGGED_IN","state","loggedIn","REMOVE_LOGGED_IN","user","SET_USER","payload","MARK_READ_MESSAGE","alreadyReadMessages","push","MARK_UNREAD_MESSAGE","unreadMessages","REMOVE_UNREAD_MESSAGE","index","findIndex","el","id","splice","SET_USER_PERMISSIONS","permissions","map","permission","Object","values","flat","p","SET_REFRESH_OPTION","option","refreshOptions"],"mappings":";;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,iBAAvB;AAEA,mFACGA,KAAK,CAACC,aADT,YACwBC,KADxB,EAC+B;AAC3BA,EAAAA,KAAK,CAACC,QAAN,GAAiB,IAAjB;AACD,CAHH,0CAKGH,KAAK,CAACI,gBALT,YAK2BF,KAL3B,EAKkC;AAC9BA,EAAAA,KAAK,CAACC,QAAN,GAAiB,KAAjB;AACAD,EAAAA,KAAK,CAACG,IAAN,GAAa,IAAb;AACD,CARH,0CAUGL,KAAK,CAACM,QAVT,YAUmBJ,KAVnB,EAU0BK,OAV1B,EAUmC;AAC/BL,EAAAA,KAAK,CAACG,IAAN,GAAaE,OAAb;AACD,CAZH,0CAcGP,KAAK,CAACQ,iBAdT,YAc4BN,KAd5B,EAcmCK,OAdnC,EAc4C;AACxCL,EAAAA,KAAK,CAACO,mBAAN,CAA0BC,IAA1B,CAA+BH,OAA/B;AACD,CAhBH,0CAkBGP,KAAK,CAACW,mBAlBT,YAkB8BT,KAlB9B,EAkBqCK,OAlBrC,EAkB8C;AAC1C;AACAL,EAAAA,KAAK,CAACU,cAAN,CAAqBF,IAArB,CAA0BH,OAA1B;AACD,CArBH,0CAuBGP,KAAK,CAACa,qBAvBT,YAuBgCX,KAvBhC,EAuBuCK,OAvBvC,EAuBgD;AAC5C;AACA,MAAQK,cAAR,GAA2BV,KAA3B,CAAQU,cAAR;AACA,MAAME,KAAK,GAAGF,cAAc,CAACG,SAAf,CAAyB,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,EAAH,KAAUV,OAAd;AAAA,GAA3B,CAAd;AACAK,EAAAA,cAAc,CAACM,MAAf,CAAsBJ,KAAtB,EAA6B,CAA7B;AACD,CA5BH,0CA8BGd,KAAK,CAACmB,oBA9BT,YA8B+BjB,KA9B/B,EA8BsCkB,WA9BtC,EA8BmD;AAC/ClB,EAAAA,KAAK,CAACkB,WAAN,GAAoBA,WAAW,CAC5BC,GADiB,CACb,UAAAC,UAAU;AAAA,WAAIC,MAAM,CAACC,MAAP,CAAcF,UAAd,CAAJ;AAAA,GADG,EAEjBG,IAFiB,CAEZ,CAFY,EAGjBJ,GAHiB,CAGb,UAAAK,CAAC;AAAA,WAAIA,CAAC,CAACJ,UAAN;AAAA,GAHY,CAApB;AAID,CAnCH,0CAqCGtB,KAAK,CAAC2B,kBArCT,YAqC6BzB,KArC7B,EAqCoC0B,MArCpC,EAqC4C;AACxC1B,EAAAA,KAAK,CAAC2B,cAAN,GAAuBD,MAAvB;AACD,CAvCH","sourcesContent":["import * as types from './mutation-type'\n\nexport default {\n  [types.SET_LOGGED_IN](state) {\n    state.loggedIn = true\n  },\n\n  [types.REMOVE_LOGGED_IN](state) {\n    state.loggedIn = false\n    state.user = null\n  },\n\n  [types.SET_USER](state, payload) {\n    state.user = payload\n  },\n\n  [types.MARK_READ_MESSAGE](state, payload) {\n    state.alreadyReadMessages.push(payload)\n  },\n\n  [types.MARK_UNREAD_MESSAGE](state, payload) {\n    // console.log('===:  ', payload)\n    state.unreadMessages.push(payload)\n  },\n\n  [types.REMOVE_UNREAD_MESSAGE](state, payload) {\n    // payload => message.id\n    const { unreadMessages } = state\n    const index = unreadMessages.findIndex(el => el.id === payload)\n    unreadMessages.splice(index, 1)\n  },\n\n  [types.SET_USER_PERMISSIONS](state, permissions) {\n    state.permissions = permissions\n      .map(permission => Object.values(permission))\n      .flat(2)\n      .map(p => p.permission)\n  },\n\n  [types.SET_REFRESH_OPTION](state, option) {\n    state.refreshOptions = option\n  },\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _objectSpread from \"/Users/zhahn/Documents/Hahn/\\u81EA\\u8003/mall/mall_cms/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"/Users/zhahn/Documents/Hahn/\\u81EA\\u8003/mall/mall_cms/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport SpecValue from '@/model/spec-value';\nexport default {\n  components: {},\n  props: {\n    dialogFormVisible: {\n      type: Boolean,\n      default: false\n    },\n    isCreate: {\n      type: Boolean,\n      default: false\n    },\n    specId: {\n      type: Number,\n      default: 0\n    },\n    specValueId: {\n      type: Number,\n      default: 0\n    }\n  },\n  computed: {\n    visible: {\n      get: function get() {\n        return this.dialogFormVisible;\n      },\n      set: function set() {}\n    }\n  },\n  data: function data() {\n    return {\n      display: true,\n      form: {\n        spec_id: 0,\n        value: '',\n        extend: ''\n      }\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var res;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (_this.isCreate) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 3;\n              return SpecValue.getSpecValue(_this.specValueId);\n\n            case 3:\n              res = _context.sent;\n              _this.form = res;\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var form, res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                form = _objectSpread({}, _this2.form);\n\n                if (!_this2.isCreate) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                form.spec_id = _this2.specId;\n                _context2.next = 5;\n                return SpecValue.addSpecValue(form);\n\n              case 5:\n                res = _context2.sent;\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.next = 10;\n                return SpecValue.editSpecValue(_this2.specValueId, form);\n\n              case 10:\n                res = _context2.sent;\n\n              case 11:\n                if (res.code < window.MAX_SUCCESS_CODE) {\n                  _this2.$message.success(\"\".concat(res.message));\n\n                  _this2.$emit('dialogClose');\n                }\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    resetForm: function resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    handleClose: function handleClose(done) {\n      done();\n      this.$emit('dialogClose');\n    }\n  }\n};","map":{"version":3,"sources":["/Users/zhahn/Documents/Hahn/自考/mall/mall_cms/src/view/spec/spec-value-edit.vue"],"names":[],"mappings":";;;;AAwBA,OAAO,SAAP,MAAsB,oBAAtB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE,EADC;AAEb,EAAA,KAAK,EAAE;AACL,IAAA,iBAAiB,EAAE;AACjB,MAAA,IAAI,EAAE,OADW;AAEjB,MAAA,OAAO,EAAE;AAFQ,KADd;AAKL,IAAA,QAAQ,EAAE;AACR,MAAA,IAAI,EAAE,OADE;AAER,MAAA,OAAO,EAAE;AAFD,KALL;AASL,IAAA,MAAM,EAAE;AACN,MAAA,IAAI,EAAE,MADA;AAEN,MAAA,OAAO,EAAE;AAFH,KATH;AAaL,IAAA,WAAW,EAAE;AACX,MAAA,IAAI,EAAE,MADK;AAEX,MAAA,OAAO,EAAE;AAFE;AAbR,GAFM;AAoBb,EAAA,QAAQ,EAAE;AACR,IAAA,OAAO,EAAE;AACP,MAAA,GADO,iBACD;AACJ,eAAO,KAAK,iBAAZ;AACD,OAHM;AAIP,MAAA,GAJO,iBAID,CAAE;AAJD;AADD,GApBG;AA4Bb,EAAA,IA5Ba,kBA4BN;AACL,WAAO;AACL,MAAA,OAAO,EAAE,IADJ;AAEL,MAAA,IAAI,EAAE;AACJ,QAAA,OAAO,EAAE,CADL;AAEJ,QAAA,KAAK,EAAE,EAFH;AAGJ,QAAA,MAAM,EAAE;AAHJ;AAFD,KAAP;AAQD,GArCY;AAsCP,EAAA,OAtCO,qBAsCG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACT,KAAI,CAAC,QADI;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAEM,SAAS,CAAC,YAAV,CAAuB,KAAI,CAAC,WAA5B,CAFN;;AAAA;AAEN,cAAA,GAFM;AAGZ,cAAA,KAAI,CAAC,IAAL,GAAY,GAAZ;;AAHY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKf,GA3CY;AA4Cb,EAAA,OAAO,EAAE;AACD,IAAA,UADC,wBACY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACX,gBAAA,IADW,qBACC,MAAI,CAAC,IADN;;AAAA,qBAGb,MAAI,CAAC,QAHQ;AAAA;AAAA;AAAA;;AAIf,gBAAA,IAAI,CAAC,OAAL,GAAe,MAAI,CAAC,MAApB;AAJe;AAAA,uBAKH,SAAS,CAAC,YAAV,CAAuB,IAAvB,CALG;;AAAA;AAKf,gBAAA,GALe;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAOH,SAAS,CAAC,aAAV,CAAwB,MAAI,CAAC,WAA7B,EAA0C,IAA1C,CAPG;;AAAA;AAOf,gBAAA,GAPe;;AAAA;AASjB,oBAAI,GAAG,CAAC,IAAJ,GAAW,MAAM,CAAC,gBAAtB,EAAwC;AACtC,kBAAA,MAAI,CAAC,QAAL,CAAc,OAAd,WAAyB,GAAG,CAAC,OAA7B;;AACA,kBAAA,MAAI,CAAC,KAAL,CAAW,aAAX;AACF;;AAZiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAalB,KAdM;AAeP,IAAA,SAfO,qBAeG,QAfH,EAea;AAClB,WAAK,KAAL,CAAW,QAAX,EAAqB,WAArB;AACD,KAjBM;AAkBP,IAAA,WAlBO,uBAkBK,IAlBL,EAkBW;AAChB,MAAA,IAAI;AACJ,WAAK,KAAL,CAAW,aAAX;AACD;AArBM;AA5CI,CAAf","sourcesContent":["<template>\n  <!-- <el-dialog :append-to-body=\"true\" :before-close=\"handleClose\" :visible.sync=\"visible\"> -->\n    <div style=\"margin-top:-25px;\">\n      <div class=\"dialog-title\">\n        <span>{{ isCreate ? '创建规格值' : '更新规格值' }}</span>\n      </div>\n      <el-form :model=\"form\" status-icon ref=\"form\" label-width=\"100px\" @submit.native.prevent>\n        <el-form-item label=\"规格值名称\" prop=\"value\">\n          <el-input size=\"medium\" v-model=\"form.value\" placeholder=\"请填写规格值名称\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"扩展\" prop=\"extend\">\n          <el-input size=\"medium\" v-model=\"form.extend\" placeholder=\"请填写规格值扩展\"></el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\" style=\"padding-left:5px;\">\n      <el-button type=\"primary\" @click=\"submitForm\" v-permission=\"{ permission: '更新规格值', type: 'disabled' }\"\n        >确 定</el-button\n      >\n      <!-- <el-button @click=\"resetForm('form')\">重 置</el-button> -->\n    </div>\n  <!-- </el-dialog> -->\n</template>\n<script>\nimport SpecValue from '@/model/spec-value'\n\nexport default {\n  components: {},\n  props: {\n    dialogFormVisible: {\n      type: Boolean,\n      default: false,\n    },\n    isCreate: {\n      type: Boolean,\n      default: false,\n    },\n    specId: {\n      type: Number,\n      default: 0,\n    },\n    specValueId: {\n      type: Number,\n      default: 0,\n    },\n  },\n  computed: {\n    visible: {\n      get() {\n        return this.dialogFormVisible\n      },\n      set() {},\n    },\n  },\n  data() {\n    return {\n      display: true,\n      form: {\n        spec_id: 0,\n        value: '',\n        extend: '',\n      },\n    }\n  },\n  async mounted() {\n    if (!this.isCreate) {\n      const res = await SpecValue.getSpecValue(this.specValueId)\n      this.form = res\n    }\n  },\n  methods: {\n    async submitForm() {\n      const form = { ...this.form }\n      let res\n      if (this.isCreate) {\n        form.spec_id = this.specId\n        res = await SpecValue.addSpecValue(form)\n      } else {\n        res = await SpecValue.editSpecValue(this.specValueId, form)\n      }\n      if (res.code < window.MAX_SUCCESS_CODE) {\n        this.$message.success(`${res.message}`)\n        this.$emit('dialogClose')\n      }\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n    },\n    handleClose(done) {\n      done()\n      this.$emit('dialogClose')\n    },\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n.dialog-title {\n  color: $parent-title-color;\n  font-size: 16px;\n  margin-bottom: 20px;\n}\n</style>\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
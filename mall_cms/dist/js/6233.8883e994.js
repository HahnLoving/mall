"use strict";(self["webpackChunklin_cms_vue"]=self["webpackChunklin_cms_vue"]||[]).push([[6233,2343,4619,3527],{32343:function(e,t,n){n.r(t);var r=n(48534),a=n(13087),u=n(62833),i=(n(35666),n(12109)),o=function(){function e(){(0,a.Z)(this,e)}return(0,u.Z)(e,null,[{key:"addSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.post)("v1/spec-key",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecKeyDetail",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/".concat(t,"/detail"));case 2:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.put)("v1/spec-key/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deleteSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i._delete)("v1/spec-key/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecKeys",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,n=a.length>1&&void 0!==a[1]?a[1]:10,e.next=4,(0,i.get)("v1/spec-key/page",{page:t,count:n});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/list");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBySpuId",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/by/spu/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=o},94619:function(e,t,n){n.r(t);var r=n(48534),a=n(13087),u=n(62833),i=(n(35666),n(12109)),o=function(){function e(){(0,a.Z)(this,e)}return(0,u.Z)(e,null,[{key:"addSpecValue",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.post)("v1/spec-value",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecValue",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-value/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editSpecValue",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.put)("v1/spec-value/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deleteSpecValue",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i._delete)("v1/spec-value/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecValues",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,n=a.length>1&&void 0!==a[1]?a[1]:10,e.next=4,(0,i.get)("v1/spec-value/page",{page:t,count:n});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBySpecKeyId",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-value/by/spec-key/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=o},46233:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});n(68309),n(82526),n(41817);var r=n(66252),a=n(58061),u=function(e){return(0,r.dD)("data-v-1f1e58e5"),e=e(),(0,r.Cn)(),e},i={class:"container"},o=u((function(){return(0,r._)("div",{class:"title"},[(0,r._)("span",null,"修改规格名")],-1)})),s=(0,r.Uk)("保 存"),c={class:"title plus"},l=u((function(){return(0,r._)("span",null,"规格值列表",-1)})),p=(0,r.Uk)("添加规格值"),d=(0,r.Uk)("编辑"),m=(0,r.Uk)("删除"),f={key:0};function v(e,t,n,u,v,g){var h=(0,r.up)("el-divider"),w=(0,r.up)("el-input"),y=(0,r.up)("el-form-item"),b=(0,r.up)("el-button"),k=(0,r.up)("el-form"),x=(0,r.up)("el-col"),V=(0,r.up)("el-table-column"),_=(0,r.up)("el-table"),R=(0,r.up)("el-row"),C=(0,r.up)("spec-value-edit"),S=(0,r.up)("el-dialog"),W=(0,r.Q2)("permission"),Z=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",i,[(0,r.Wm)(R,{gutter:20,class:"wrap"},{default:(0,r.w5)((function(){return[(0,r.Wm)(x,{lg:16,md:20,sm:24,xs:24},{default:(0,r.w5)((function(){return[(0,r.Wm)(h),o,(0,r.Wm)(k,{model:v.form,"status-icon":"",ref:"form","label-width":"100px",onSubmit:t[4]||(t[4]=(0,a.iM)((function(){}),["prevent"]))},{default:(0,r.w5)((function(){return[(0,r.Wm)(y,{label:"规格名名称",prop:"name"},{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{disabled:"",size:"medium",modelValue:v.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return v.form.name=e}),placeholder:"请填写规格名名称"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(y,{label:"规格名描述",prop:"description"},{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{size:"medium",modelValue:v.form.description,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.form.description=e}),placeholder:"请填写规格名描述"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(y,{label:"单位",prop:"unit"},{default:(0,r.w5)((function(){return[(0,r.Wm)(w,{size:"medium",modelValue:v.form.unit,"onUpdate:modelValue":t[2]||(t[2]=function(e){return v.form.unit=e}),placeholder:"请填写单位，如：英寸"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(y,{class:"submit"},{default:(0,r.w5)((function(){return[(0,r.wy)((0,r.Wm)(b,{type:"primary",onClick:t[3]||(t[3]=function(e){return g.submitForm("form")})},{default:(0,r.w5)((function(){return[s]})),_:1},512),[[W,{permission:["更新规格名"],type:"disabled"}]])]})),_:1})]})),_:1},8,["model"])]})),_:1}),(0,r.Wm)(x,{lg:16,md:20,sm:24,xs:24},{default:(0,r.w5)((function(){return[(0,r.Wm)(h),(0,r._)("div",c,[l,(0,r.Wm)(b,{style:{"margin-left":"30px"},onClick:(0,a.iM)(g.handleAdd,["prevent"]),type:"primary",plain:"",size:"medium"},{default:(0,r.w5)((function(){return[p]})),_:1},8,["onClick"])]),(0,r.Wm)(h),(0,r.wy)((0,r.Wm)(_,{stripe:"",data:v.tableData},{default:(0,r.w5)((function(){return[(0,r.Wm)(V,{prop:"id",label:"id",width:"150"}),(0,r.Wm)(V,{prop:"value",label:"规格值名称",width:"150"}),(0,r.Wm)(V,{"show-overflow-tooltip":!0,prop:"extend","min-width":"200",label:"扩展"}),(0,r.Wm)(V,{width:"150",fixed:"right",label:"操作"},{default:(0,r.w5)((function(e){return[(0,r.Wm)(b,{onClick:(0,a.iM)((function(t){return g.handleEdit(e.row)}),["prevent"]),type:"primary",plain:"",size:"mini"},{default:(0,r.w5)((function(){return[d]})),_:2},1032,["onClick"]),(0,r.wy)((0,r.Wm)(b,{onClick:(0,a.iM)((function(t){return g.handleDelete(e.row)}),["prevent"]),type:"danger",size:"mini",plain:""},{default:(0,r.w5)((function(){return[m]})),_:2},1032,["onClick"]),[[W,{permission:["删除规格值"],type:"disabled"}]])]})),_:1})]})),_:1},8,["data"]),[[Z,v.loading]])]})),_:1})]})),_:1})]),v.dialogFormVisible?((0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)(S,{"append-to-body":!0,"before-close":e.handleClose,visible:e.visible,modelValue:v.dialogFormVisible,"onUpdate:modelValue":t[5]||(t[5]=function(e){return v.dialogFormVisible=e})},{default:(0,r.w5)((function(){return[v.dialogFormVisible?((0,r.wg)(),(0,r.j4)(C,{key:0,isCreate:v.isCreate,"dialog-form-visible":v.dialogFormVisible,"spec-value-id":v.specValueId,"spec-id":v.id,onDialogClose:g.dialogClose},null,8,["isCreate","dialog-form-visible","spec-value-id","spec-id","onDialogClose"])):(0,r.kq)("",!0)]})),_:1},8,["before-close","visible","modelValue"])])):(0,r.kq)("",!0)])}var g=n(95082),h=n(48534),w=(n(35666),n(32343)),y=n(94619),b=n(63527),k={components:{SpecValueEdit:b["default"]},data:function(){return{tableData:[],specValueId:0,dialogFormVisible:!1,isCreate:!1,id:0,loading:!1,isStandard:!1,form:{name:"",description:"",unit:"",standard:0}}},watch:{isStandard:function(e){this.form.standard=e?1:0},"$route.params":function(){}},mounted:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getDetail();case 1:case"end":return t.stop()}}),t)})))()},methods:{submitForm:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=(0,g.Z)({},e.form),t.next=3,w["default"].editSpecKey(e.id,n);case 3:r=t.sent,r.code<window.MAX_SUCCESS_CODE&&e.$message.success("".concat(r.message));case 5:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,h.Z)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,y["default"].deleteSpecValue(e.id);case 2:r=n.sent,r.code<window.MAX_SUCCESS_CODE&&(t.getDetail(),t.$message({type:"success",message:"".concat(r.message)}));case 4:case"end":return n.stop()}}),n)}))))},resetForm:function(e){this.$refs[e].resetFields()},getDetail:function(){var e=this;return(0,h.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,n=e.$route.params.id,e.id=n,t.next=5,w["default"].getSpecKeyDetail(n);case 5:r=t.sent,e.isStandard=1===r.standard,e.form={name:r.name,description:r.description,unit:r.unit,standard:r.standard},e.tableData=r.items,e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()},handleAdd:function(){this.isCreate=!0,this.specValueId=0,this.dialogFormVisible=!0},handleEdit:function(e){this.isCreate=!1,this.specValueId=e.id,this.dialogFormVisible=!0},dialogClose:function(){this.dialogFormVisible=!1,this.loading=!0,this.getDetail(),this.loading=!1}}},x=n(83744);const V=(0,x.Z)(k,[["render",v],["__scopeId","data-v-1f1e58e5"]]);var _=V},63527:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(66252),a=n(56612),u=n(58061),i={style:{"margin-top":"-25px"}},o={class:"dialog-title"},s={slot:"footer",class:"dialog-footer",style:{"padding-left":"5px"}},c=(0,r.Uk)("确 定");function l(e,t,n,l,p,d){var m=(0,r.up)("el-input"),f=(0,r.up)("el-form-item"),v=(0,r.up)("el-form"),g=(0,r.up)("el-button"),h=(0,r.Q2)("permission");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",i,[(0,r._)("div",o,[(0,r._)("span",null,(0,a.zw)(n.isCreate?"创建规格值":"更新规格值"),1)]),(0,r.Wm)(v,{model:p.form,"status-icon":"",ref:"form","label-width":"100px",onSubmit:t[2]||(t[2]=(0,u.iM)((function(){}),["prevent"]))},{default:(0,r.w5)((function(){return[(0,r.Wm)(f,{label:"规格值名称",prop:"value"},{default:(0,r.w5)((function(){return[(0,r.Wm)(m,{size:"medium",modelValue:p.form.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return p.form.value=e}),placeholder:"请填写规格值名称"},null,8,["modelValue"])]})),_:1}),(0,r.Wm)(f,{label:"扩展",prop:"extend"},{default:(0,r.w5)((function(){return[(0,r.Wm)(m,{size:"medium",modelValue:p.form.extend,"onUpdate:modelValue":t[1]||(t[1]=function(e){return p.form.extend=e}),placeholder:"请填写规格值扩展"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model"])]),(0,r._)("div",s,[(0,r.wy)((0,r.Wm)(g,{type:"primary",onClick:d.submitForm},{default:(0,r.w5)((function(){return[c]})),_:1},8,["onClick"]),[[h,{permission:"更新规格值",type:"disabled"}]])])],64)}var p=n(95082),d=n(48534),m=(n(35666),n(9653),n(94619)),f={components:{},props:{dialogFormVisible:{type:Boolean,default:!1},isCreate:{type:Boolean,default:!1},specId:{type:Number,default:0},specValueId:{type:Number,default:0}},computed:{visible:{get:function(){return this.dialogFormVisible},set:function(){}}},data:function(){return{display:!0,form:{spec_id:0,value:"",extend:""}}},mounted:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isCreate){t.next=5;break}return t.next=3,m["default"].getSpecValue(e.specValueId);case 3:n=t.sent,e.form=n;case 5:case"end":return t.stop()}}),t)})))()},methods:{submitForm:function(){var e=this;return(0,d.Z)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=(0,p.Z)({},e.form),!e.isCreate){t.next=8;break}return n.spec_id=e.specId,t.next=5,m["default"].addSpecValue(n);case 5:r=t.sent,t.next=11;break;case 8:return t.next=10,m["default"].editSpecValue(e.specValueId,n);case 10:r=t.sent;case 11:r.code<window.MAX_SUCCESS_CODE&&(e.$message.success("".concat(r.message)),e.$emit("dialogClose"));case 12:case"end":return t.stop()}}),t)})))()},resetForm:function(e){this.$refs[e].resetFields()},handleClose:function(e){e(),this.$emit("dialogClose")}}},v=n(83744);const g=(0,v.Z)(f,[["render",l],["__scopeId","data-v-06a99d79"]]);var h=g}}]);
//# sourceMappingURL=6233.8883e994.js.map
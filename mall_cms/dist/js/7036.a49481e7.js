"use strict";(self["webpackChunklin_cms_vue"]=self["webpackChunklin_cms_vue"]||[]).push([[7036,2343],{32343:function(e,t,n){n.r(t);var r=n(48534),a=n(13087),u=n(62833),i=(n(35666),n(12109)),c=function(){function e(){(0,a.Z)(this,e)}return(0,u.Z)(e,null,[{key:"addSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.post)("v1/spec-key",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecKeyDetail",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/".concat(t,"/detail"));case 2:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.put)("v1/spec-key/".concat(t),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"deleteSpecKey",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i._delete)("v1/spec-key/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSpecKeys",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:0,n=a.length>1&&void 0!==a[1]?a[1]:10,e.next=4,(0,i.get)("v1/spec-key/page",{page:t,count:n});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getList",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/list");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBySpuId",value:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,i.get)("v1/spec-key/by/spu/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=c},27036:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(66252),a=n(58061),u=function(e){return(0,r.dD)("data-v-7a0ca14c"),e=e(),(0,r.Cn)(),e},i={class:"container"},c=u((function(){return(0,r._)("div",{class:"header"},[(0,r._)("div",{class:"title"},"规格名列表")],-1)})),o=(0,r.Uk)("查看"),s=(0,r.Uk)("删除"),p={class:"pagination"};function l(e,t,n,u,l,g){var d=(0,r.up)("el-table-column"),f=(0,r.up)("el-button"),m=(0,r.up)("el-table"),h=(0,r.up)("el-pagination"),v=(0,r.Q2)("permission"),w=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",i,[c,(0,r.wy)((0,r.Wm)(m,{stripe:"",data:l.tableData},{default:(0,r.w5)((function(){return[(0,r.Wm)(d,{prop:"id",label:"id",width:"100"}),(0,r.Wm)(d,{prop:"name",label:"名称",width:"150"}),(0,r.Wm)(d,{prop:"description",label:"描述","min-width":"200","show-overflow-tooltip":!0}),(0,r.Wm)(d,{prop:"unit",label:"单位",width:"150"}),(0,r.Wm)(d,{fixed:"right",width:"150",label:"操作"},{default:(0,r.w5)((function(e){return[(0,r.Wm)(f,{onClick:(0,a.iM)((function(t){return g.handleDetail(e.row)}),["prevent"]),type:"primary",plain:"",size:"mini"},{default:(0,r.w5)((function(){return[o]})),_:2},1032,["onClick"]),(0,r.wy)((0,r.Wm)(f,{onClick:(0,a.iM)((function(t){return g.handleDelete(e.row)}),["prevent"]),type:"danger",plain:"",size:"mini"},{default:(0,r.w5)((function(){return[s]})),_:2},1032,["onClick"]),[[v,{permission:"删除规格名",type:"disabled"}]])]})),_:1})]})),_:1},8,["data"]),[[w,e.loading]]),(0,r._)("div",p,[l.refreshPagination?((0,r.wg)(),(0,r.j4)(h,{key:0,onCurrentChange:g.handleCurrentChange,background:!0,"page-size":l.pageCount,"current-page":l.currentPage,layout:"prev, pager, next, jumper",total:l.totalNums},null,8,["onCurrentChange","page-size","current-page","total"])):(0,r.kq)("",!0)])])}var g=n(48534),d=(n(41539),n(54747),n(35666),n(32343)),f={components:{},data:function(){return{tableData:[],totalNums:0,currentPage:1,pageCount:10,refreshPagination:!0}},created:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,e.getSpecKeys(),e.loading=!1;case 3:case"end":return t.stop()}}),t)})))()},methods:{getSpecKeys:function(){var e=this;return(0,g.Z)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.currentPage-1,r=e.pageCount,t.next=4,d["default"].getSpecKeys(n,r);case 4:a=t.sent,e.tableData=a.items,e.totalNums=a.total;case 7:case"end":return t.stop()}}),t)})))()},handleCurrentChange:function(e){var t=this;return(0,g.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.imgSrcList=[],t.currentPage=e,t.loading=!0,t.getSpecKeys(),t.loading=!1;case 5:case"end":return n.stop()}}),n)})))()},initImgSrcList:function(){var e=this;this.tableData.forEach((function(t){t.img&&e.imgSrcList.push(t.img)}))},handleDetail:function(e){this.$router.push({path:"/spec/key/value/".concat(e.id)})},handleDelete:function(e){var t,n=this;this.$confirm("此操作将永久删除该规格名，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,g.Z)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n.loading=!0,r.next=4,d["default"].deleteSpecKey(e.id);case 4:t=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),n.loading=!1;case 10:t.code<window.MAX_SUCCESS_CODE?(n.loading=!1,n.totalNums%n.pageCount===1&&1!==n.currentPage&&n.currentPage--,n.getSpecKeys(),n.$message({type:"success",message:"".concat(t.message)})):(n.loading=!1,n.$message.error("".concat(t.message)));case 11:case"end":return r.stop()}}),r,null,[[0,7]])}))))}}},m=n(83744);const h=(0,m.Z)(f,[["render",l],["__scopeId","data-v-7a0ca14c"]]);var v=h}}]);
//# sourceMappingURL=7036.a49481e7.js.map
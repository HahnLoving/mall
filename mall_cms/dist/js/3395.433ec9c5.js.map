{"version":3,"file":"js/3395.433ec9c5.js","mappings":"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","sources":["webpack://lin-cms-vue/./src/model/banner-item.js","webpack://lin-cms-vue/./src/model/spu.js","webpack://lin-cms-vue/./src/model/theme.js","webpack://lin-cms-vue/./src/view/banner/banner-item-edit.vue","webpack://lin-cms-vue/./src/view/banner/banner-item-edit.vue?5b6d"],"sourcesContent":["import { post, get, put, _delete } from '@/lin/plugin/axios'\n\nclass BannerItem {\n  static async addBannerItem(data) {\n    const res = await post('v1/banner-item', data)\n    return res\n  }\n\n  static async getBannerItem(id) {\n    const res = await get(`v1/banner-item/${id}`)\n    return res\n  }\n\n  static async editBannerItem(id, data) {\n    const res = await put(`v1/banner-item/${id}`, data)\n    return res\n  }\n\n  static async deleteBannerItem(id) {\n    const res = await _delete(`v1/banner-item/${id}`)\n    return res\n  }\n\n  static async getBannersItem(page = 0, count = 10) {\n    const res = await get('v1/banner-item/page', {\n      page,\n      count,\n    })\n    return res\n  }\n}\n\nexport default BannerItem\n","import { post, get, _delete, put } from '@/lin/plugin/axios'\n\nclass Spu {\n  static async addSpu(data) {\n    const res = await post('v1/spu', data)\n    return res\n  }\n\n  static async getSpu(id) {\n    const res = await get(`v1/spu/${id}`)\n    return res\n  }\n\n  static async getDetail(id) {\n    const res = await get(`v1/spu/${id}/detail`)\n    return res\n  }\n\n  static async editSpu(id, data) {\n    const res = await put(`v1/spu/${id}`, data)\n    return res\n  }\n\n  static async deleteSpu(id) {\n    const res = await _delete(`v1/spu/${id}`)\n    return res\n  }\n\n  static async getSpus(page = 0, count = 10) {\n    const res = await get('v1/spu/page', { page, count })\n    return res\n  }\n\n  static async getList() {\n    const res = await get('v1/spu/list')\n    return res\n  }\n\n  static async getSpecKeys(id) {\n    const res = await get('v1/spu/key', { id })\n    return res\n  }\n\n  static async addSpecKey(data) {\n    const res = await post('v1/spu/key', data)\n    return res\n  }\n}\n\nexport default Spu\n","import { post, get, put, _delete } from '@/lin/plugin/axios'\n\nclass Theme {\n  static async addTheme(data) {\n    const res = await post('v1/theme', data)\n    return res\n  }\n\n  static async addThemeSpu(data) {\n    const res = await post('v1/theme/spu', data)\n    return res\n  }\n\n  static async getTheme(id) {\n    const res = await get(`v1/theme/${id}`)\n    return res\n  }\n\n  static async getList() {\n    const res = await get(`v1/theme/list`)\n    return res\n  }\n\n  static async editTheme(id, data) {\n    const res = await put(`v1/theme/${id}`, data)\n    return res\n  }\n\n  static async deleteTheme(id) {\n    const res = await _delete(`v1/theme/${id}`)\n    return res\n  }\n\n  static async getThemes(page = 0, count = 10) {\n    const res = await get('v1/theme/page', { page, count })\n    return res\n  }\n\n  static async getSpus(id) {\n    const res = await get('v1/theme/spus', { id })\n    return res\n  }\n\n  static async getSpuList(id) {\n    const res = await get('v1/theme/spu/list', { id })\n    return res\n  }\n\n  static async deleteSpu(id) {\n    const res = await _delete(`v1/theme/spu/${id}`)\n    return res\n  }\n}\n\nexport default Theme\n","<template>\n  <div>\n    <sticky-top>\n      <div class=\"title\">\n        <span>{{ isCreate ? '添加BannerItem' : '修改BannerItem' }}</span>\n        <span class=\"back\" @click=\"back\"> <i class=\"iconfont icon-fanhui\"></i> 返回 </span>\n        <el-divider></el-divider>\n      </div>\n    </sticky-top>\n    <div class=\"container\">\n      <div class=\"wrap\">\n        <el-row>\n          <el-col :lg=\"16\" :md=\"20\" :sm=\"24\" :xs=\"24\">\n            <el-form :model=\"form\" status-icon ref=\"form\" label-width=\"100px\" @submit.native.prevent>\n              <el-form-item label=\"名称\" prop=\"name\">\n                <el-input size=\"medium\" v-model=\"form.name\" placeholder=\"请填写名称\"></el-input>\n              </el-form-item>\n              <!-- <el-form-item label=\"关键字\" prop=\"keyword\">\n                <el-input size=\"medium\" v-model=\"form.keyword\" placeholder=\"请填写关键字\"></el-input>\n              </el-form-item> -->\n              <el-form-item label=\"类型\" prop=\"type\">\n                <el-autocomplete\n                  @focus=\"loadTypeSuggestions\"\n                  popper-class=\"my-autocomplete\"\n                  class=\"inline-input\"\n                  v-model=\"form.type_name\"\n                  :fetch-suggestions=\"queryTypeSearch\"\n                  placeholder=\"请填写所属分类\"\n                  @select=\"handleTypeSelect\"\n                >\n                  <template #default=\"{ item }\">\n                    <span class=\"id\">id： {{ item.id }}</span>\n                    <span class=\"name\"> 名称：{{ item.name }}</span>\n                  </template>\n                </el-autocomplete>\n              </el-form-item>\n              <el-form-item label=\"主题\" prop=\"theme_name\">\n                <el-autocomplete\n                  @focus=\"loadThemeSuggestions\"\n                  popper-class=\"my-autocomplete\"\n                  class=\"inline-input\"\n                  v-model=\"form.theme_name\"\n                  :fetch-suggestions=\"queryThemeSearch\"\n                  placeholder=\"请填写主题\"\n                  @select=\"handleThemeSelect\"\n                >\n                  <template #default=\"{ item }\">\n                    <span class=\"id\">id： {{ item.id }}</span>\n                    <span class=\"name\"> 名称：{{ item.name }}</span>\n                  </template>\n                </el-autocomplete>\n              </el-form-item>\n              <el-form-item label=\"Spu\" prop=\"spu_name\">\n                <el-autocomplete\n                  @focus=\"loadSpuSuggestions\"\n                  popper-class=\"my-autocomplete\"\n                  class=\"inline-input\"\n                  v-model=\"form.spu_name\"\n                  :fetch-suggestions=\"querySpuSearch\"\n                  placeholder=\"请填写Spu\"\n                  @select=\"handleSpuSelect\"\n                >\n                  <template #default=\"{ item }\">\n                    <span class=\"id\">id： {{ item.id }}</span>\n                    <span class=\"name\"> 名称：{{ item.title }}</span>\n                  </template>\n                </el-autocomplete>\n              </el-form-item>\n              <!-- <el-form-item label=\"类型\" prop=\"type\">\n                <el-input size=\"medium\" v-model=\"form.type\" placeholder=\"请填写类型\"></el-input>\n              </el-form-item> -->\n              <el-form-item label=\"图片\" prop=\"img\">\n                <upload-imgs :max-num=\"maxNum\" ref=\"uploadEle\" :value=\"initData\" />\n              </el-form-item>\n              <el-form-item class=\"submit\">\n                <el-button\n                  v-permission=\"{ permission: ['创建Banner item', '更新Banner item'], type: 'disabled' }\"\n                  type=\"primary\"\n                  @click=\"submitForm('form')\"\n                  >保 存</el-button\n                >\n                <!-- <el-button @click=\"resetForm('form')\">重 置</el-button> -->\n              </el-form-item>\n            </el-form>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BannerItem from '@/model/banner-item'\nimport UploadImgs from '@/component/base/upload-image'\nimport StickyTop from '@/component/base/sticky-top/sticky-top'\nimport Spu from '@/model/spu'\nimport Theme from '@/model/theme'\n\nexport default {\n  components: {\n    UploadImgs,\n    StickyTop,\n  },\n  props: {\n    editID: {\n      type: Number,\n    },\n    isCreate: {\n      type: Boolean,\n      default: false,\n    },\n    bannerId: {\n      type: Number,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      spuSuggestions: [],\n      themeSuggestions: [],\n      maxNum: 1,\n      form: {\n        img: '',\n        keyword: '',\n        type: null,\n        spu_id: null,\n        spu_name: '',\n        theme_id: null,\n        theme_name: '',\n      },\n      rules: {\n        minWidth: 10,\n        minHeight: 10,\n        maxSize: 5,\n      },\n      initData: [],\n    }\n  },\n  async mounted() {\n    if (!this.isCreate) {\n      const res = await BannerItem.getBannerItem(this.editID)\n      this.initData = [\n        {\n          id: res.id,\n          display: res.img,\n        },\n      ]\n      this.form = res\n      if(this.form.type == 1) {\n        this.form.type_name = \"无类型\"\n      }else if(this.form.type == 2) {\n        this.form.type_name = \"Spu\"\n      }else if(this.form.type == 3) {\n        this.form.type_name = \"主题\"\n      }\n    }\n\n    this.loadSpuSuggestions()\n    this.loadThemeSuggestions()\n    this.loadTypeSuggestions()\n  },\n  methods: {\n    async getValue() {\n      const val = await this.$refs.uploadEle.getValue()\n      if (val && val.length > 0) {\n        this.form.img = val[0].display\n      }\n    },\n    async submitForm() {\n      await this.getValue()\n      const form = { ...this.form }\n      let res\n      if (this.isCreate) {\n        form.banner_id = this.bannerId\n        res = await BannerItem.addBannerItem(form)\n      } else {\n        res = await BannerItem.editBannerItem(this.editID, form)\n      }\n      if (res.code < window.MAX_SUCCESS_CODE) {\n        this.$message.success(`${res.message}`)\n        this.resetForm('form')\n        this.$emit('editClose')\n      }\n    },\n    // 重置表单\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n    },\n    back() {\n      this.$emit('editClose')\n    },\n    // spu\n    async querySpuSearch(queryString, cb) {\n      // eslint-disable-next-line\n      // const spuSuggestions = await Spu.getList()\n      // const results = queryString ? spuSuggestions.filter(this.createSpuFilter(queryString)) : spuSuggestions\n      const results = this.spuSuggestions\n      cb(results)\n    },\n    handleSpuSelect(item) {\n      // this.state = item.name\n      this.form.spu_name = item.title\n      this.form.spu_id = item.id\n    },\n    // async getSpuValue() {\n    //   const val = await this.$refs.uploadEle.getSpuValue()\n    //   if (val && val.length > 0) {\n    //     this.form.img = val[0].display\n    //   }\n    // },\n    async loadSpuSuggestions() {\n      try {\n        this.spuSuggestions = await Spu.getList()\n        if (this.spuSuggestions.length === 0) {\n          this.$message.error('未找到Spu，请先添加Spu')\n        }\n      } catch (error) {\n        this.$message.error('获取Spu信息失败')\n        console.error(error)\n      }\n    },\n    // theme\n    async queryThemeSearch(queryString, cb) {\n      const results = this.themeSuggestions\n      cb(results)\n    },\n    handleThemeSelect(item) {\n      // this.state = item.name\n      this.form.theme_name = item.name\n      this.form.theme_id = item.id\n    },\n    // async getThemeValue() {\n    //   const val = await this.$refs.uploadEle.getThemeValue()\n    //   if (val && val.length > 0) {\n    //     this.form.img = val[0].display\n    //   }\n    // },\n    async loadThemeSuggestions() {\n      try {\n        this.themeSuggestions = await Theme.getList()\n        if (this.themeSuggestions.length === 0) {\n          this.$message.error('未找到主题，请先添加主题')\n        }\n      } catch (error) {\n        this.$message.error('获取主题信息失败')\n        console.error(error)\n      }\n    },\n     // Type\n    queryTypeSearch(queryString, cb) {\n      const results = this.typeSuggestions\n      cb(results)\n    },\n    // createTypeFilter(queryString) {\n    //   // eslint-disable-next-line\n    //   return typeSuggestions => {\n    //     return typeSuggestions.name.toLowerCase().indexOf(queryString.toLowerCase()) === 0\n    //   }\n    // },\n    handleTypeSelect(item) {\n      // this.state = item.name\n      // this.form.name = item.name\n      this.form.id = item.id\n      this.form.type = item.id\n      if(this.form.type == 1) {\n        this.form.type_name = \"无类型\"\n      }else if(this.form.type == 2) {\n        this.form.type_name = \"Spu\"\n      }else if(this.form.type == 3) {\n        this.form.type_name = \"主题\"\n      }\n    },\n    // async getThemeValue() {\n    //   const val = await this.$refs.uploadEle.getThemeValue()\n    //   if (val && val.length > 0) {\n    //     this.form.img = val[0].display\n    //   }\n    // },\n    async loadTypeSuggestions() {\n      this.typeSuggestions = [\n        {\n          name : '无类型',\n          id : 1,\n        },\n        {\n          name : 'Spu',\n          id : 2,\n        },\n        {\n          name : '主题',\n          id : 3,\n        },\n      ]\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-divider--horizontal {\n  margin: 0;\n}\n\n.container {\n  .title {\n    height: 59px;\n    line-height: 59px;\n    color: $parent-title-color;\n    font-size: 16px;\n    font-weight: 500;\n    text-indent: 40px;\n\n    .back {\n      float: right;\n      margin-right: 40px;\n      cursor: pointer;\n    }\n  }\n\n  .wrap {\n    padding: 20px;\n  }\n\n  .submit {\n    float: left;\n  }\n}\n</style>\n","import { render } from \"./banner-item-edit.vue?vue&type=template&id=215ec548&scoped=true\"\nimport script from \"./banner-item-edit.vue?vue&type=script&lang=js\"\nexport * from \"./banner-item-edit.vue?vue&type=script&lang=js\"\n\nimport \"./banner-item-edit.vue?vue&type=style&index=0&id=215ec548&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zhahn/Documents/Hahn/自考/mall/mall_cms/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-215ec548\"]])\n\nexport default __exports__"],"names":["BannerItem","data","post","res","id","get","put","_delete","page","count","Spu","Theme","class","isCreate","back","lg","md","sm","xs","model","form","ref","label","prop","size","name","placeholder","loadTypeSuggestions","type_name","queryTypeSearch","handleTypeSelect","default","item","loadThemeSuggestions","theme_name","queryThemeSearch","handleThemeSelect","loadSpuSuggestions","spu_name","querySpuSearch","handleSpuSelect","title","maxNum","value","initData","type","submitForm","components","UploadImgs","StickyTop","props","editID","Number","Boolean","bannerId","spuSuggestions","themeSuggestions","img","keyword","spu_id","theme_id","rules","minWidth","minHeight","maxSize","mounted","display","methods","getValue","$refs","uploadEle","val","length","banner_id","code","window","MAX_SUCCESS_CODE","$message","success","message","resetForm","$emit","formName","this","resetFields","queryString","cb","results","error","console","typeSuggestions","__exports__","render"],"sourceRoot":""}
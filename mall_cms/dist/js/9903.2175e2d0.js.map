{"version":3,"file":"js/9903.2175e2d0.js","mappings":"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","sources":["webpack://lin-cms-vue/./src/model/order.js","webpack://lin-cms-vue/./src/view/statics/order-detail.vue","webpack://lin-cms-vue/./src/view/statics/order-detail.vue?6fce"],"sourcesContent":["import { post, get, put } from '@/lin/plugin/axios'\n\nclass Order {\n  static async addOrder(data) {\n    const res = await post('v1/order', data)\n    return res\n  }\n\n  static async getOrder(id) {\n    const res = await get(`v1/order/${id}/detail`)\n    return res\n  }\n\n  static async editOrder(id, data) {\n    const res = await put(`v1/order/${id}`, data)\n    return res\n  }\n\n  static async changeOrderStatus(id, status) {\n    const res = await put(`v1/order/status?id=${id}&status=${status}`)\n    return res\n  }\n\n  static async getOrders(page = 0, count = 10) {\n    const res = await get('v1/order/page', { page, count })\n    return res\n  }\n\n  static async search({ keyword, page, count, start, end }) {\n    const res = await get('v1/order/search', {\n      keyword,\n      page,\n      count,\n      start,\n      end,\n    })\n    return res\n  }\n}\n\nexport default Order\n","<template>\n  <div>\n    <sticky-top>\n      <div class=\"title\">\n        <span>订单详情</span>\n        <span class=\"back\" @click=\"back\"> <i class=\"iconfont icon-fanhui\"></i> 返回 </span>\n        <el-divider></el-divider>\n      </div>\n    </sticky-top>\n    <div class=\"container\">\n      <div class=\"wrap\">\n        <el-row>\n          <el-col :lg=\"16\" :md=\"20\" :sm=\"24\" :xs=\"24\">\n            <el-form :model=\"form\" status-icon ref=\"form\" label-width=\"100px\" @submit.native.prevent>\n              <el-form-item label=\"订单号\" prop=\"order_no\">\n                <el-input disabled size=\"medium\" v-model=\"form.order_no\"></el-input>\n              </el-form-item>\n\n              <el-form-item label=\"图片\" prop=\"snap_img\">\n                <el-image style=\"height:100px;width:100px;\" :src=\"form.snap_img\"></el-image>\n              </el-form-item>\n\n              <el-form-item label=\"标题\" prop=\"snap_title\">\n                <el-input disabled size=\"medium\" v-model=\"form.snap_title\"></el-input>\n              </el-form-item>\n\n              <el-form-item label=\"预付编号\" prop=\"prepay_id\">\n                <el-input disabled size=\"medium\" v-model=\"form.prepay_id\"></el-input>\n              </el-form-item>\n\n              <el-form-item label=\"总价格\" prop=\"total_price\">\n                <el-input-number disabled v-model=\"form.total_price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n              </el-form-item>\n\n              <el-form-item label=\"交易价格\" prop=\"final_total_price\">\n                <el-input-number disabled v-model=\"form.final_total_price\" :precision=\"2\" :step=\"0.1\"></el-input-number>\n              </el-form-item>\n\n              <el-form-item label=\"总数量\" prop=\"total_count\">\n                <el-input-number disabled v-model=\"form.total_count\" :step=\"1\" step-strictly></el-input-number>\n              </el-form-item>\n\n              <el-form-item label=\"状态\" prop=\"status\">\n                <div class=\"tags\">\n                  <el-tag :type=\"computeTagType(form.status)\">{{ form.status | orderStatus }}</el-tag>\n                  <el-tag style=\"margin-left:5px;\" v-if=\"form.expired && form.status === 1\" type=\"danger\" size=\"mini\"\n                    >过期</el-tag\n                  >\n                </div>\n              </el-form-item>\n\n              <el-form-item label=\"地址\" prop=\"snap_address\">\n                <div v-if=\"form.snap_address\" class=\"address\">\n                  <div class=\"header\">\n                    <span class=\"name\">{{ form.snap_address.user_name }}</span>\n                    <span class=\"mobile\">{{ form.snap_address.mobile }}</span>\n                  </div>\n                  <div class=\"detail\">\n                    {{ form.snap_address.province }} {{ form.snap_address.city }}{{ form.snap_address.county }}\n                    **************\n                    <!-- {{ form.snap_address.detail }} -->\n                  </div>\n                </div>\n              </el-form-item>\n\n              <el-form-item label=\"详情\" prop=\"snap_items\">\n                <el-table v-if=\"form.snap_items\" stripe :data=\"form.snap_items\">\n                  <el-table-column fixed=\"left\" prop=\"id\" label=\"id\" width=\"100\"></el-table-column>\n                  <el-table-column prop=\"img\" label=\"图片\" width=\"100\">\n                    <template #default=\"scope\">\n                      <img class=\"display_img\" :src=\"scope.row.img\" :alt=\"scope.row.img\" />\n                    </template>\n                  </el-table-column>\n                  <el-table-column prop=\"title\" label=\"标题\" width=\"100\"></el-table-column>\n                  <el-table-column prop=\"single_price\" label=\"单价\" width=\"100\"></el-table-column>\n                  <el-table-column prop=\"final_price\" label=\"交易价\" min-width=\"100\"></el-table-column>\n                  <el-table-column fixed=\"right\" prop=\"count\" label=\"数量\" width=\"100\"></el-table-column>\n                </el-table>\n              </el-form-item>\n\n              <el-form-item class=\"submit\">\n                <el-button\n                  :disabled=\"actionDisabled\"\n                  v-permission=\"{ permission: ['更新订单状态'], type: 'disabled' }\"\n                  type=\"primary\"\n                  @click=\"changeOrderStatus\"\n                  >{{ actionName }}</el-button\n                >\n              </el-form-item>\n            </el-form>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport order from '@/model/order'\nimport StickyTop from '@/component/base/sticky-top/sticky-top'\n\nexport default {\n  components: { StickyTop },\n  props: {\n    orderId: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      form: {},\n    }\n  },\n  computed: {\n    actionName() {\n      if (this.form.status) {\n        switch (this.form.status) {\n          case 2:\n            return '发货'\n          case 3:\n            return '完成'\n          default:\n            return '不可操作'\n        }\n      } else {\n        return '不可操作'\n      }\n    },\n    actionDisabled() {\n      if (\n        // eslint-disable-next-line\n        this.form.status &&\n        (this.form.status === 2 || this.form.status === 3)\n      ) {\n        return false\n      }\n      return true\n    },\n  },\n  async created() {\n    this.$nextTick(async () => {\n      if (!this.isCreate) {\n        this.getOrder()\n      }\n    })\n  },\n  methods: {\n    async changeOrderStatus() {\n      const res = await order.changeOrderStatus(this.orderId, this.form.status + 1)\n      if (res.code < window.MAX_SUCCESS_CODE) {\n        this.$message.success(`${res.message}`)\n      }\n      this.getOrder()\n    },\n    async getOrder() {\n      const res = await order.getOrder(this.orderId)\n      this.form = res\n    },\n    // eslint-disable-next-line\n    async submitForm(formName) {},\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n    },\n    back() {\n      this.$emit('editClose')\n    },\n    computeTagType(num) {\n      switch (num) {\n        case 0:\n          return ''\n        case 1:\n          return 'info'\n        case 2:\n          return 'success'\n        case 3:\n          return 'success'\n        case 4:\n          return 'success'\n        case 5:\n          return 'warning'\n        default:\n          return ''\n      }\n    },\n  },\n  filters: {\n    orderStatus(num) {\n      switch (num) {\n        case 0:\n          return '全部'\n        case 1:\n          return '待支付'\n        case 2:\n          return '已支付'\n        case 3:\n          return '已发货'\n        case 4:\n          return '已完成'\n        case 5:\n          return '已取消'\n        default:\n          return '全部'\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-divider--horizontal {\n  margin: 0;\n}\n\n.container {\n  .title {\n    height: 59px;\n    line-height: 59px;\n    color: $parent-title-color;\n    font-size: 16px;\n    font-weight: 500;\n    text-indent: 40px;\n\n    .back {\n      float: right;\n      margin-right: 40px;\n      cursor: pointer;\n    }\n  }\n\n  .wrap {\n    padding: 20px;\n  }\n\n  .submit {\n    float: left;\n  }\n}\n\n.my-autocomplete {\n  li {\n    line-height: normal;\n    padding: 7px;\n    display: inline-flex;\n    align-content: space-around;\n    .name {\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n    .id {\n      margin-right: 15px;\n      font-size: 12px;\n      color: #b4b4b4;\n    }\n\n    .highlighted .addr {\n      color: #ddd;\n    }\n  }\n}\n.white-color {\n  background-color: #fff;\n}\n\n.input-with-select .el-input-group__prepend {\n  background-color: #fff;\n}\n\n.display_img {\n  max-width: 100px;\n  max-height: 50px;\n  width: auto;\n  height: auto;\n}\n\n.address {\n  .header {\n    display: flex;\n    align-content: center;\n    .name {\n      font-weight: 600;\n      margin-right: 40px;\n    }\n    .mobile {\n      font-weight: 600;\n    }\n  }\n}\n</style>\n","import { render } from \"./order-detail.vue?vue&type=template&id=3b27454e&scoped=true\"\nimport script from \"./order-detail.vue?vue&type=script&lang=js\"\nexport * from \"./order-detail.vue?vue&type=script&lang=js\"\n\nimport \"./order-detail.vue?vue&type=style&index=0&id=3b27454e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/zhahn/Documents/Hahn/自考/mall/mall_cms/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3b27454e\"]])\n\nexport default __exports__"],"names":["Order","data","post","res","id","get","put","status","page","count","keyword","start","end","class","back","lg","md","sm","xs","model","form","ref","label","prop","disabled","size","order_no","style","src","snap_img","snap_title","prepay_id","total_price","precision","step","final_total_price","total_count","type","computeTagType","orderStatus","expired","snap_address","user_name","mobile","province","city","county","snap_items","stripe","fixed","width","default","scope","row","img","alt","actionDisabled","changeOrderStatus","actionName","components","StickyTop","props","orderId","String","computed","this","created","$nextTick","isCreate","getOrder","methods","order","code","window","MAX_SUCCESS_CODE","$message","success","message","submitForm","formName","resetForm","$refs","resetFields","$emit","num","filters","__exports__","render"],"sourceRoot":""}
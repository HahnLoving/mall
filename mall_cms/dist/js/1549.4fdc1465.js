"use strict";(self["webpackChunklin_cms_vue"]=self["webpackChunklin_cms_vue"]||[]).push([[1549,5705],{81766:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var i=t(66252),r=function(e){return(0,i.dD)("data-v-7d3f88e2"),e=e(),(0,i.Cn)(),e},s={class:"container"},u=r((function(){return(0,i._)("div",{class:"title"},"编辑分组权限",-1)})),o={class:"content"},a={class:"content"},c={style:{"padding-left":"5px","margin-top":"30px"}},l=(0,i.Uk)("确 定"),d=(0,i.Uk)("返回");function f(e,n,t,r,f,p){var m=(0,i.up)("group-permissions"),v=(0,i.up)("el-button"),g=(0,i.up)("el-col"),h=(0,i.up)("el-row");return(0,i.wg)(),(0,i.iD)("div",s,[u,(0,i._)("div",o,[(0,i.Wm)(h,null,{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{lg:16,md:20,sm:24,xs:24},{default:(0,i.w5)((function(){return[(0,i._)("div",a,[(0,i.Wm)(m,{id:e.$route.query.id,ref:"groupPermissions",onUpdatePermissions:r.updatePermissions,onGetCacheAuthIds:r.getCacheAuthIds,onUpdateAllPermissions:r.updateAllPermissions,style:{"margin-right":"-30px","margin-left":"-25px","margin-bottom":"-10px"}},null,8,["id","onUpdatePermissions","onGetCacheAuthIds","onUpdateAllPermissions"])]),(0,i._)("div",c,[(0,i.Wm)(v,{type:"primary",onClick:r.confirmEdit},{default:(0,i.w5)((function(){return[l]})),_:1},8,["onClick"]),(0,i.Wm)(v,{onClick:r.back},{default:(0,i.w5)((function(){return[d]})),_:1},8,["onClick"])])]})),_:1})]})),_:1})])])}var p=t(48534),m=(t(35666),t(41539),t(39714),t(2707),t(57327),t(92222),t(26699),t(32023),t(62931)),v=t(42119),g=t(20610),h=t(41301),_=t(37972),C={components:{GroupPermissions:_["default"]},setup:function(){var e=(0,v.yj)(),n=(0,v.tv)(),t=(0,m.iH)([]),i=(0,m.iH)([]),r=(0,m.iH)([]),s=function(e){t.value=e},u=function(e){i.value=e},o=function(e){r.value=e},a=function(){var n=(0,p.Z)(regeneratorRuntime.mark((function n(){var i,s,u,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=0,s=0,u=parseInt(e.query.id,10),t.value.sort().toString()===r.value.sort().toString()){n.next=15;break}if(o=r.value.concat(t.value).filter((function(e){return!t.value.includes(e)})),a=r.value.concat(t.value).filter((function(e){return!r.value.includes(e)})),!(a.length>0)){n.next=10;break}return n.next=9,h["default"].dispatchPermissions(u,a);case 9:i=n.sent;case 10:if(!(o.length>0)){n.next=14;break}return n.next=13,h["default"].removePermissions(u,o);case 13:s=n.sent;case 14:(i.code<window.MAX_SUCCESS_CODE||s.code<window.MAX_SUCCESS_CODE)&&g.z8.success("权限修改成功");case 15:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(){n.go(-1)};return{back:c,permissions:t,confirmEdit:a,allPermissions:i,getCacheAuthIds:o,cachePermissions:r,updatePermissions:s,updateAllPermissions:u}}},k=t(83744);const w=(0,k.Z)(C,[["render",f],["__scopeId","data-v-7d3f88e2"]]);var P=w}}]);
//# sourceMappingURL=1549.4fdc1465.js.map
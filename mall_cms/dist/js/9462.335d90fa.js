"use strict";(self["webpackChunklin_cms_vue"]=self["webpackChunklin_cms_vue"]||[]).push([[9462,5705],{59139:function(e,n,r){r.r(n),r.d(n,{default:function(){return k}});r(68309);var u=r(66252),t=r(58061),o=function(e){return(0,u.dD)("data-v-c2bff1cc"),e=e(),(0,u.Cn)(),e},i={class:"container"},a=o((function(){return(0,u._)("div",{class:"title"},"新建分组信息",-1)})),l={class:"content"},s=(0,u.Uk)("保 存");function c(e,n,r,o,c,f){var m=(0,u.up)("el-input"),p=(0,u.up)("el-form-item"),d=(0,u.up)("group-permissions"),v=(0,u.up)("el-button"),g=(0,u.up)("el-form"),w=(0,u.up)("el-col"),b=(0,u.up)("el-row"),_=(0,u.Q2)("loading");return(0,u.wg)(),(0,u.iD)("div",i,[a,(0,u.Wm)(b,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(w,{lg:16,md:20,sm:24,xs:24},{default:(0,u.w5)((function(){return[(0,u._)("div",l,[(0,u.wy)((0,u.Wm)(g,{ref:"form","status-icon":"",rules:o.rules,model:o.group,"label-position":"right","label-width":"100px",onSubmit:n[3]||(n[3]=(0,t.iM)((function(){}),["prevent"]))},{default:(0,u.w5)((function(){return[(0,u.Wm)(p,{label:"分组名称",prop:"name"},{default:(0,u.w5)((function(){return[(0,u.Wm)(m,{clearable:"",modelValue:o.group.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.group.name=e})},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(p,{label:"分组描述",prop:"info"},{default:(0,u.w5)((function(){return[(0,u.Wm)(m,{clearable:"",modelValue:o.group.info,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.group.info=e})},null,8,["modelValue"])]})),_:1}),(0,u.Wm)(p,null,{default:(0,u.w5)((function(){return[(0,u.Wm)(d,{title:"分配权限",ref:"groupPermissions",onUpdatePermissions:o.updatePermissions},null,8,["onUpdatePermissions"])]})),_:1}),(0,u.Wm)(p,{class:"submit"},{default:(0,u.w5)((function(){return[(0,u.Wm)(v,{type:"primary",onClick:n[2]||(n[2]=function(e){return o.submitForm("form")})},{default:(0,u.w5)((function(){return[s]})),_:1})]})),_:1})]})),_:1},8,["rules","model"]),[[_,o.loading]])])]})),_:1})]})),_:1})])}var f=r(48534),m=(r(35666),r(57327),r(41539),r(47941),r(42119)),p=r(62931),d=r(20610),v=r(41301),g=r(37972),w={components:{GroupPermissions:g["default"]},setup:function(){var e=b(),n=e.rules,r=(0,p.iH)(null),u=(0,p.iH)(null),t=(0,p.iH)(!1),o=(0,m.tv)(),i=(0,p.iH)([]),a=(0,p.iH)([]),l=(0,p.qj)({name:"",info:""}),s=function(){r.value.resetFields(),u.value.getGroupPermissions()},c=function(){var e=(0,f.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.value.validate(function(){var e=(0,f.Z)(regeneratorRuntime.mark((function e(n){var r,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=17;break}return r={},u=i.value.filter((function(e){return Object.keys(a.value).indexOf(e)<0})),e.prev=3,t.value=!0,e.next=7,v["default"].createOneGroup(l.name,l.info,u);case 7:r=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),t.value=!1,console.error(e.t0);case 14:r.code<window.MAX_SUCCESS_CODE?(t.value=!1,d.z8.success("".concat(r.message)),o.push("/admin/group/list"),s()):t.value=!1,e.next=18;break;case 17:d.z8.error("请将信息填写完整");case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){i.value=e};return{form:r,rules:n,group:l,loading:t,resetForm:s,submitForm:c,groupPermissions:u,updatePermissions:g}}};function b(){var e=function(e,n,r){if(!n)return r(new Error("分组名称不能为空"));r()},n={info:[],name:[{validator:e,trigger:["blur","change"],required:!0}]};return{rules:n}}var _=r(83744);const h=(0,_.Z)(w,[["render",c],["__scopeId","data-v-c2bff1cc"]]);var k=h}}]);
//# sourceMappingURL=9462.335d90fa.js.map